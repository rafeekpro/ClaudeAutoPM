#!/bin/bash
# Optimize agent ecosystem

echo "ðŸ”¬ Analyzing agent ecosystem optimization opportunities..."

# Use code-analyzer agent to identify redundancies
echo "Analyzing agent redundancies and overlaps..."

# Check agent registry
if [ -f autopm/.claude/agents/AGENT-REGISTRY.md ]; then
    echo "ðŸ“Š Current metrics:"
    grep -c "### " autopm/.claude/agents/AGENT-REGISTRY.md | xargs echo "  Total agents:"
    grep -c "DEPRECATED" autopm/.claude/agents/AGENT-REGISTRY.md | xargs echo "  Deprecated:"
    grep -c "Active" autopm/.claude/agents/AGENT-REGISTRY.md | xargs echo "  Active:"
fi

# Run optimization analysis
node scripts/self-maintenance.js optimize

echo "ðŸ’¡ Optimization report generated"
echo ""
echo "Next steps:"
echo "1. Review optimization opportunities"
echo "2. Use agent-manager to consolidate agents"
echo "3. Update registry with registry-manager"
echo "4. Test with test-runner"